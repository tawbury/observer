==================================================
Auto-Generated File
==================================================
Generated by: mcp install --all-tools
Generated at: 2026-01-21 13:48:12
Source: .ai/install/mapping_rules.yaml
Version: 0.1

⚠️ WARNING: Do NOT manually edit this file!
All manual edits will be lost when mcp sync is run.

If changes are needed:
1. Edit the source files in .ai/
2. Run: mcp sync
3. This file will be automatically regenerated

==================================================

# Claude Code Project Context

## Project: AI Tool System (mcp OS)

A comprehensive multi-agent AI operating system for managing projects across development, content creation, finance, HR, and strategic planning.

## System Architecture

### Core Components

**5 Specialized Agents**
- Developer Agent: Software design, implementation, testing, deployment
- HR Agent: Role assessment, task classification, performance evaluation
- PM Agent: Product strategy, roadmap planning, requirements
- Finance Agent: Budget management, financial analysis, forecasting
- Contents-Creator Agent: Multi-media content production

**90+ Skills** organized by:
- Agent specialization (developer, hr, pm, finance, contents-creator)
- Proficiency level (L1 Junior, L2 Senior)
- Domain (backend, frontend, API design, database, testing, deployment, etc.)
- Shared frameworks (_shared: analytics, optimization, research)

**24+ Validators** for quality assurance:
- Base validators (document, skill)
- Type validators (meta, structure)
- Document validators (task, report, decision, spec, prd, architecture)
- Agent-specific validators
- Advanced validators (L2 review, senior decision, mentorship, cross-agent)

**8 Workflows** for execution:
- HR Evaluation Workflow
- Software Development Workflow
- Contents Creation Workflow
- Financial Management Workflow
- Project Management Workflow
- Stock Trading System Workflow
- Integrated Development Workflow
- L2 Review Workflow

**15 Document Templates**:
- Operational Loop: roadmap_template.md, run_record_template.md
- 4-Stage Workflow: prd_template.md, architecture_template.md, spec_template.md, decision_template.md
- Supporting: task_template.md, report_template.md, anchor_template.md, workflow_template.md, etc.

### Design Principles

**SSoT (Single Source of Truth)**
- `.ai/` directory contains all system definitions
- Generated files are auto-created from `.ai/` sources
- Manual changes to `.ai/` are authoritative

**Generated Files Policy**
- `.github/copilot-instructions.md` - GitHub Copilot context
- `.claude/project.md` - This file (Claude Code context)
- `.cursorrules` - Cursor IDE rules
- `.windsurfrules` - Windsurf IDE rules (optional)
- All auto-generated by `mcp install --all-tools`
- **Do NOT manually edit** - changes are lost on `mcp sync`

**Artifact Separation**
- `docs/` - Official confirmed documents (AI visible)
- `vault/` - AI drafts and experiments (AI visible)
- `ops/` - Operations logs, approvals, audit records (AI not visible)
- `backup/` - Disaster recovery backups (AI not visible)

**Session Resilience**
- All state persisted in filesystem (ops/run_records/, roadmaps, task definitions)
- Conversation context is not a source of truth
- Previous session state recovered from files

## Directory Structure

```
.ai/                          Single Source of Truth
├── spec/                      Operational specifications
├── agents/                    Agent definitions (5 agents)
├── skills/                    Skills by agent (90+ skills)
├── validators/                Validation rules (24+ validators)
├── workflows/                 Workflow definitions (8 workflows)
├── templates/                 Document templates (15 templates)
├── install/                   Tool integration mapping
├── export/chat/               Conversational AI configs
└── .cursorrules               Cursor rules source

docs/                          Project artifacts
├── decisions/                 Decision records
├── tasks/                     Task definitions
├── reports/                   Evaluation reports
├── dev/                       Development documents
│   ├── archi/                 Architecture documents
│   ├── spec/                  Technical specifications
│   └── PRD/                   Product requirements
└── index/                     Index documents

vault/                         AI workspace
├── drafts/                    AI-generated drafts (AI visible)
├── pending/                   Review-pending docs (AI visible)
├── experiments/               Experimental content (AI restricted)
└── legacy/                    Legacy materials (AI restricted)

ops/                           Operations records
├── run_records/               Workflow execution logs (JSON)
├── approvals/                 Approval packets (Markdown)
├── audit/                     Audit logs
└── notes/                     Manual operational notes

backup/                        Disaster recovery
├── docs/                      docs/ backups
├── vault/                     vault/ backups
└── .ai/                       .ai/ backups
```

## AI Context Visibility

**AI Visible (Default)**
- `.ai/` - System rules and definitions
- `docs/` - Official project documents
- `vault/` - AI drafts and experiments
- Generated files (copilot, claude, cursorrules)

**AI Not Visible (Explicit Move Required)**
- `ops/` - Operations records (append-only, human-focused)
- `backup/` - Disaster recovery backups (read-only)

## Essential Document Types

### 1. Decision Record (`docs/decisions/`)
- **Purpose**: Record strategic decisions
- **Template**: `decision_template.md`
- **Metadata**: Project, Status, Created, Author, Reviewer, Version
- **Naming**: `decision_{project}_{YYYYMMDD}.md`

### 2. Task Document (`docs/tasks/`)
- **Purpose**: Define executable work units
- **Template**: `task_template.md`
- **Metadata**: Project, Status, Role, Department, Expected Level
- **Naming**: `task_{role}_{dept}.md`

### 3. Run Record (`ops/run_records/`)
- **Purpose**: Evidence of workflow execution
- **Format**: JSON (structured) or JSONL (streaming)
- **Policy**: Append-only, never modify
- **Naming**: `run_{workflow_id}_{run_id}.json`

### 4. Approval Packet (`ops/approvals/`)
- **Purpose**: 1-page summary for decision-making
- **Format**: Markdown
- **Policy**: Created automatically when L2 review needed
- **Naming**: `approval_{context}_{timestamp}.md`

## Working Patterns

### Starting a Task
1. Review relevant workflow definition
2. Check applicable skills for the agent
3. Select appropriate document template
4. Create task or document using template
5. Execute work following workflow steps
6. Validate outputs with appropriate validators
7. Generate report

### Creating Documents

**Using Templates**
```
Template Source → docs/ Location
.ai/templates/task_template.md → docs/tasks/task_{role}_{dept}.md
.ai/templates/report_template.md → docs/reports/report_{role}_{dept}_{date}.md
.ai/templates/decision_template.md → docs/decisions/decision_{project}_{date}.md
.ai/templates/architecture_template.md → docs/dev/archi/architecture_{project}.md
.ai/templates/spec_template.md → docs/dev/spec/spec_{module}.md
.ai/templates/prd_template.md → docs/dev/PRD/prd_{project}.md
```

### Validating Work

**Validation Flow**
1. Execute skill or generate document
2. Select appropriate validator(s)
3. Run validator with output
4. Address any failures
5. Generate validation report
6. Record in Run Record

**Validator Types**
- Task validators - Task document structure
- Spec validators - Technical specification quality
- Report validators - Report completeness
- Architecture validators - System design validation
- PRD validators - Product requirements validation
- Skill validators - Skill execution quality
- L2 validators - Senior-level work review

### Maintaining Records

**Run Records**
- Created automatically when workflow starts
- Updated with stage execution results
- Append-only: never modify, only add corrections
- Located in `ops/run_records/`

**Approval Packets**
- Created automatically when L2 review needed
- 1-page summary for decision-making
- Located in `ops/approvals/`
- Reference related Run Records

## Operational Workflows

### 4-Stage Standard Workflow
All workflows follow this pattern:

1. **Stage 1: Planning** (PRD Template)
   - Define requirements and goals
   - Output: `docs/dev/PRD/prd_{project}.md`

2. **Stage 2: Design** (Architecture Template)
   - Design system architecture
   - Output: `docs/dev/archi/architecture_{project}.md`

3. **Stage 3: Specification** (Spec Template)
   - Write technical specifications
   - Output: `docs/dev/spec/spec_{module}.md`

4. **Stage 4: Decision** (Decision Template)
   - Record final decisions
   - Output: `docs/decisions/decision_{project}_{date}.md`

### Operational Loop
```
Roadmap (phase/session structure)
    ↓
Task (executable unit)
    ↓
Skill Execution (agent processes task)
    ↓
Run Record (evidence document)
    ↓
Roadmap Update (review record, plan next)
```

**Session Resilience**: If interrupted, next session reads Roadmap + Run Records to understand state and resume.

## Key Constraints & Rules

### Do's ✅
- Modify files in `.ai/` to change system behavior
- Create/modify documents in `docs/` following templates
- Add entries to `ops/run_records/` and `ops/approvals/`
- Run `mcp sync` after structural changes
- Use metadata-first linking in documents
- Use [[filename.md]] Obsidian links for references

### Don'ts ❌
- Manually edit Generated files (.github/, .claude/, .cursorrules)
- Modify `.ai/` files without understanding their purpose
- Delete or modify entries in `ops/` (append-only)
- Mix SSoT (.ai/) with Generated or Artifact files
- Use wildcard Obsidian links like [[task_*]]
- Skip metadata sections in documents

## Skill System

### L1 (Junior) Skills
- Basic implementation
- Task execution
- Standard procedures
- Foundational knowledge application

### L2 (Senior) Skills
- Strategic planning
- Architecture design
- Leadership and mentorship
- Expert-level validation and review

### Shared Skills (Common Frameworks)
- Analytics Framework - Unified analytics patterns
- Optimization Framework - Unified optimization techniques
- Research Framework - Unified research methodologies
- Operational Roadmap Management - Roadmap management skills
- Operational Run Record Creation - Record creation patterns

## Multi-Agent Execution

### Workflow-Agent Mapping

| Workflow | Primary Agent | Supporting Agents |
|----------|---|---|
| HR Evaluation | HR Agent | - |
| Software Development | Developer Agent | Finance, PM |
| Contents Creation | Contents-Creator | PM, Finance |
| Financial Management | Finance Agent | PM |
| Project Management | PM Agent | All Agents |
| Integrated Development | Orchestrator | All Agents |
| L2 Review | Senior Agent | All Agents |

### Agent Communication
- State is recorded in files, not conversation
- Agents read Run Records to understand previous execution
- Roadmaps guide multi-agent coordination
- Approval Packets are decision points

## Troubleshooting

### Generated Files Out of Sync
```
Issue: Changes in .ai/ not reflected in Generated files
Solution:
  1. Edit files in .ai/spec/ or .ai/install/
  2. Run: mcp sync
  3. Generated files will regenerate
```

### Missing Document
```
Issue: Can't find where to create a document
Solution:
  1. Check document type
  2. Use corresponding template from .ai/templates/
  3. Place in appropriate docs/ subdirectory
  4. Follow naming convention
```

### Session Recovery
```
Issue: Session was interrupted, need to resume
Solution:
  1. Review ops/run_records/ for last execution state
  2. Check current Roadmap status
  3. Read relevant Task definitions
  4. Continue from last completion point
```

## Integration with Other Tools

### GitHub Copilot
- Uses `.github/copilot-instructions.md`
- Auto-generated by `mcp install --all-tools`
- Updated by `mcp sync`

### Cursor IDE
- Uses `.cursorrules`
- Auto-generated by `mcp install --all-tools`
- Updated by `mcp sync`

### Windsurf IDE
- Uses `.windsurfrules` (optional)
- Auto-generated by `mcp install --all-tools`
- Updated by `mcp sync`

### Conversational AI (ChatGPT, Gemini, Claude Web)
- Configurations in `.ai/export/chat/`
- Not auto-deployed (manual copy-paste to AI tool)
- Updated by `mcp sync`

## System Version & Status

- **System**: mcp OS
- **Specification Version**: v0.1
- **Last Updated**: 2026-01-21 13:48:12
- **Status**: Production

## References

- **System Overview**: `.ai/README.md`
- **Operational Specification**: `.ai/spec/MCP_OS_Operational_Spec_v0_1.md`
- **Agent Definitions**: `.ai/agents/`
- **Skill Documentation**: `.ai/skills/skill_index.md`
- **Workflow Guide**: `.ai/workflows/workflow_index.md`
- **Validator Guide**: `.ai/validators/validator_index.md`
- **Template Guide**: `.ai/templates/README.md`

---

**For detailed system information, consult the source files in `.ai/`**
