# GitHub Copilot Adapter Configuration
# Defines how .ai/ sources are transformed for GitHub Copilot

adapter: github_copilot
version: 0.1
description: GitHub Copilot integration adapter

# Output file configuration
output:
  path: .github/copilot-instructions.md
  format: markdown
  encoding: utf-8

# Content sections and their sources
sections:
  - id: header
    type: auto_generated
    content: "Auto-generated by mcp install --all-tools"

  - id: project_overview
    type: from_file
    source: .ai/spec/MCP_OS_Operational_Spec_v0_1.md
    selector: "## 1. 문서의 성격과 목적"
    title: "Project Overview"

  - id: agents
    type: from_directory
    source: .ai/agents/
    pattern: "*.agent.md"
    title: "Available Agents"
    include_filenames: true
    max_entries: 10

  - id: workflows
    type: from_directory
    source: .ai/workflows/
    pattern: "*.workflow.md"
    title: "Available Workflows"
    exclude_patterns:
      - "_base"
      - "*.backup"
    max_entries: 10

  - id: shared_skills
    type: from_directory
    source: .ai/skills/_shared/
    pattern: "*.skill.md"
    title: "Shared Skills"
    max_entries: 5

  - id: usage_guide
    type: template
    template: "copilot_usage_guide"
    title: "How to Use This Project"

# Filters to apply when processing sources
filters:
  - remove_metadata_headers: false
  - truncate_content:
      max_lines: 100
      append_note: "See source files for complete documentation"
  - normalize_paths: true
  - convert_obsidian_links: true

# Post-processing rules
post_processing:
  - add_table_of_contents: true
  - add_footer: true
  - validate_markdown: true
